<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <% content_for :title, "Company Secrets" %>

  <% if params[:iamahacker] %>
    <p class="text-center w-full">
      <h1 class="text-4xl">The Library of Company Secrets<h1>
    </p>

    <div class="flex items-center w-full mt-8">
      <%= form_with url: "/company_secrets", method: :get, class: "w-full" do |form| %>
        <input type="hidden" name="iamahacker" value="1">
        <div class="flex w-full space-x-2 justify-between">
          <div class="text-2xl pt-3">
            <%= form.label :query, "Question:", class: "text-gray-700" %>
          </div>
          <div class="flex-grow pt-3">
            <%= form.text_field :query, class: "w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm", value: params[:query] %>
          </div>
          <div>
            <%= form.submit "Search", class: "justify-center rounded-lg py-4 px-5 bg-blue-600 text-white block font-medium" %>
          </div>
        </div>
      <% end %>
    </div>

    <% if params[:query] %>
      <p class="text-2xl mt-12">
        <%=
          markdown = Redcarpet::Markdown.new(Redcarpet::Render::HTML, autolink: true, tables: true)
          markdown.render(@answer).html_safe
        %>

      </p>
    <% end %>
  <% else %>
    <h1 class="text-8xl"># NO PASS!<h1>
  <% end %>
</div>
